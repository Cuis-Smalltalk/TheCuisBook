<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This book is for Cuis-Smalltalk (5.0#4253), a free and modern
implementation of the Smalltalk language and environment.

Copyright (C) 2020 Hilaire Fernandes and Juan Vuletich



The syntax chapter is from the Squeak by Example book.

Copyright (C) 2007, 2008, 2009 by Andrew P. Black, StÃ©phane
Ducasse, Oscar Nierstrasz and Damien Pollet.



Compilation : August 8, 2020

Documentation source: https://github.com/Cuis-Smalltalk/TheCuisBook 



The contents of this book are protected under Creative Commons
Attribution-ShareAlike 4.0 International.

You are free to:


Share - copy and redistribute the material in any medium or
format


Adapt - remix, transform, and build upon the material for any
purpose, even commercially.



Under the following terms:


Attribution. You must give appropriate credit, provide a link to
the license, and indicate if changes were made. You may do so in any
reasonable manner, but not in any way that suggests the licensor
endorses you or your use.


Share Alike. If you remix, transform, or build upon the material,
you must distribute your contributions under the same license as the
original.

Complete license: https://creativecommons.org/licenses/by-sa/4.0/legalcode
 -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Introduction to the system classes (The Cuis-Smalltalk Book)</title>

<meta name="description" content="Introduction to the system classes (The Cuis-Smalltalk Book)">
<meta name="keywords" content="Introduction to the system classes (The Cuis-Smalltalk Book)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html#Top" rel="start" title="Top">
<link href="Indexes.html#Indexes" rel="index" title="Indexes">
<link href="Getting-started.html#Getting-started" rel="up" title="Getting started">
<link href="Space-Invader-_002d_002d-Part-One.html#Space-Invader-_002d_002d-Part-One" rel="next" title="Space Invader -- Part One">
<link href="Writing-your-first-scripts.html#Writing-your-first-scripts" rel="prev" title="Writing your first scripts">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="en">
<a name="Introduction-to-the-system-classes"></a>
<div class="header">
<p>
Previous: <a href="Writing-your-first-scripts.html#Writing-your-first-scripts" accesskey="p" rel="prev">Writing your first scripts</a>, Up: <a href="Getting-started.html#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="Indexes.html#Indexes" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Introduction-to-the-system-classes-1"></a>
<h3 class="section">1.3 Introduction to the system classes</h3>
<p>Cuis-Smalltalk is a pure object oriented language: all the entities as
integer, float, rational number, string, collection, block of code we
discovered in the previous section are objects.
</p>
<a name="Understanding-Object-Oriented-Programming"></a>
<h4 class="subsection">1.3.1 Understanding Object Oriented Programming</h4>
<p>But what is an object?  An object is an entity responding to two
criteria:
</p>
<ul>
<li> <strong>An internal state.</strong> It is embodied by variable(s)
   known only by the object. A variable only visible within the object
   is called <em>private</em>. As a consequence, it is impossible &ndash; if
   the object decides so &ndash; to know the internal state of the object
   from another object.

</li><li> <strong>A behavior.</strong> It is modeled by message(s) &ndash; we
   already used this vocabulary &ndash; sent to the object. When the object
   receives a message it understands, it executes the code of an
   internal method named as the message.

</li></ul>
<a name="index-class"></a>
<a name="index-subclass"></a>
<a name="index-instance"></a>

<p>Several entities sharing the same variables and understanding the same messages
are very likely to exist within Cuis-Smalltalk &ndash; think about the
numbers. Therefore, entities are created &ndash; <em>instantiated</em> &ndash;
following a model, this model is called a <em>Class</em>.
</p>
<p>A specific class declares the internal variables and the behavior by
implementing the methods. Let see how the <span class="sansserif">Fraction</span> class is
declared:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Number subclass: #Fraction
   instanceVariableNames: &rsquo;numerator denominator&rsquo;
   classVariableNames: &rdquo;
   poolDictionaries: &rdquo;
   category: &rsquo;Kernel-Numbers&rsquo;</span>
</pre></div>

<p>As expected there are two variables &ndash; named <em>instance variables</em>
&ndash; to define the <span class="sansserif">numerator</span> and <span class="sansserif">denominator</span> of
a fraction. From this declaration, we observe there is a hierarchy in
the class definition: <span class="sansserif">Fraction</span> is a kind of
<span class="sansserif">Number</span>. This means a fraction inherits the internal state &ndash;
variables &ndash; and behavior &ndash; methods &ndash; defined in the <span class="sansserif">Number</span>
class. <span class="sansserif">Fraction</span> is called a <em>subclass</em> of <span class="sansserif">Number</span>.
</p>
<a name="index-class_002c-inheritance"></a>
<p>A Class specifies the behavior of all of its instances.  It is useful 
to be able to say &quot;this object is like that object, but for these differences&quot;.  
We do this in Smalltalk by a Class inheriting instance state and behavior from 
its parent Class.  This child, or subclass then specifies just the
instance state and behavior which is different from its parent.
</p>
<p>This aspect of object oriented programming is called
<em>inheritance</em>. In Cuis-Smalltalk, each class inherits from one parent
class.
</p>
<p>In Smalltalk, each object decides for itself how it reponds to a message.
This is called <em>polymorphism</em>.
The same message selector may be sent to objects of different Classes.  
The &rsquo;shape&rsquo; (morph) of the computation is different depending on the specific 
class of the &rsquo;many&rsquo; (poly) possible classes of the object receiving the message.
</p>
<p>We saw above that different kinds of objects
all responded to the same #printString message in different,
but appropriate ways.
</p>
<a name="index-instance_002c-creation"></a>
<a name="index-class_002c-class-method"></a>
<p>In the previous section, we already met fraction. Those fractions are
objects called <em>instance</em> of the class <span class="sansserif">Fraction</span>. To create
this instance we wrote <span class="sansserif">5 / 4</span>, the mechanism is based on
message sending and polymorphism. The number <span class="sansserif">5</span> is an
integer receiving the message <span class="sansserif">#/</span>, therefore looking at the method
<span class="sansserif">/</span> in the <span class="sansserif">Integer</span> class explains how is instantiated
the fraction. See part of this method:
</p><div class="display">
<pre class="display"><span class="sansserif">/ aNumber
&quot;Refer to the comment in Number / &quot;
| quoRem |
aNumber isInteger ifTrue:
../..
   ifFalse: [^ (Fraction numerator: self denominator: aNumber) reduced]].
../..</span>
</pre></div>

<p>From this source code, we learn that in some situation, the method
returns a fraction, reduced. We can expect that in some other
situation an integer is returned, for example <span class="sansserif">6 / 2</span>.
</p>
<p>In the example, we observe the message <span class="sansserif">#numerator:denominator:</span> is
sent to the class <span class="sansserif">Fraction</span>, such a message refers to a
<em>class method</em> understood only by the <span class="sansserif">Fraction</span> class. It
is expected such a named method returns an instance of a
<span class="sansserif">Fraction</span>.
</p>
<p>Try out in a workspace:
</p><div class="display">
<pre class="display"><span class="sansserif">Fraction numerator: 24 denominator: 21
&rArr; 24/21</span>
</pre></div>

<p>Observe how the fraction is not reduced. Whereas it is, when
instantiated with the <span class="sansserif">#/</span> message:
</p>
<div class="display">
<pre class="display"><span class="sansserif">24 / 21
&rArr; 8/7</span>
</pre></div>

<p>A class method is often used to create a new instance from a class. In
<a href="Writing-your-first-scripts.html#forLoop"><em>Example</em> 1.13</a>, the message <span class="sansserif">#new</span> is sent to the class
<span class="sansserif">OrderedCollection</span> to create a new empty collection;
<span class="sansserif">new</span> is a class method.
</p>
<p>In <a href="Writing-your-first-scripts.html#repeatLoop"><em>Example</em> 1.14</a>, the <span class="sansserif">#newFrom:</span> message is sent to the class
<span class="sansserif">OrdredCollection</span> to create a new collection filled with
elements from the array given in argument; <span class="sansserif">newFrom:</span> is
another class method.
</p>
<a name="index-class_002c-instance-method"></a>
<a name="index-polymorphism"></a>
<a name="index-number_002c-_0023squared-1"></a>
<p>Now observe the hierarchy of the Number class:
</p>
<div class="format">
<pre class="format"><span class="sansserif">Number</span>
   <span class="sansserif">Float</span>
      <span class="sansserif">BoxedFloat64</span>
      <span class="sansserif">SmallFloat64</span>
   <span class="sansserif">Fraction</span>
   <span class="sansserif">Integer</span>
      <span class="sansserif">LargePositiveInteger</span>
         <span class="sansserif">LargeNegativeInteger</span>
      <span class="sansserif">SmalltalkInteger</span>
</pre></div>

<p><span class="sansserif">Float</span>, <span class="sansserif">Integer</span> and <span class="sansserif">Fraction</span> are direct
descendants of the <span class="sansserif">Number</span> class. We already learnt about the
<span class="sansserif">#squared</span> message sent to integer and fraction instances:
</p>
<div class="display">
<pre class="display"><span class="sansserif">16 squared &rArr; 256
(2 / 3) squared &rArr; 4/9</span>
</pre></div>

<p>As the <span class="sansserif">#squared</span> message is sent to <span class="sansserif">Integer</span> and
<span class="sansserif">Fraction</span> instances, the associated <span class="sansserif">squared</span> method is
called an <em>instance method</em>. This method is defined in both the
<span class="sansserif">Number</span> and <span class="sansserif">Fraction</span> classes.
</p>

<p>Let&rsquo;s examine this method in <span class="sansserif">Number</span>:
</p><div class="display">
<pre class="display"><span class="sansserif">Number&gt;&gt;squared
&quot;Answer the receiver multiplied by itself.&quot;
   ^self * self</span>
</pre></div>

<p>In an instance method source code, <span class="sansserif">self</span> refers to the
object itself, here it is the value of the number. The <span class="sansserif">^</span>
symbol indicates to return the following value <span class="sansserif">self *
self</span>.
</p>
<p>Now let&rsquo;s examine this same method in <span class="sansserif">Fraction</span>:
</p><div class="display">
<pre class="display"><span class="sansserif">Fraction&gt;&gt;squared
   ^ Fraction
      numerator: numerator squared
      denominator: denominator squared</span>
</pre></div>

<p>Here a new fraction is instantiated with numerator and denominator
squared. This alternate <span class="sansserif">squared</span> method, ensure a fraction is
returned.
</p>
<a name="index-method_002c-overriding"></a>
<a name="index-overriding"></a>
<p>When message <span class="sansserif">#squared</span> is sent to a number, different methods are
executed depending on the number is a fraction or any other kind of
number. This fundamental mechanism of oriented object programming is
called <em>Polymorphism</em>. More precisely, the <span class="sansserif">Fraction</span> class
is <em>overriding</em> the <span class="sansserif">squared</span> method, defined above in the
class hierarchy.
</p>
<a name="index-number_002c-_0023abs"></a>
<p>Still in the <span class="sansserif">Number</span> hierarchy, let&rsquo;s examine another example
of polymorphism with the <span class="sansserif">#abs</span> message:
</p>
<div class="display">
<pre class="display"><span class="sansserif">-10 abs &rArr; 10
5.3 abs &rArr; 5.3
(-5 / 3) abs &rArr; 5/3</span>
</pre></div>

<p>The implementation in <span class="sansserif">Number</span> does not need much
explanation. There is the <span class="sansserif">#ifTrue:ifFalse:</span> we have not yet
discussed so far, but the code is quite self-explanatory:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Number&gt;&gt;abs
&quot;Answer a Number that is the absolute value (positive magnitude) of the 
receiver.&quot;
   self &lt; 0
      ifTrue: [^self negated]
      ifFalse: [^self]</span>
</pre></div>

<p>This implementation will do just fine for the <span class="sansserif">Number</span>
subclasses. Nevertheless, there are several classes overriding it for
optimization purpose.
</p>
<p>For example, regarding large positive integer, <span class="sansserif">abs</span> is
empty. Indeed, in the absence of explicitly returned value, the
default returned value is the instance itself, in our situation the
<span class="sansserif">LargePositiveInteger</span> instance:
</p>
<div class="display">
<pre class="display"><span class="sansserif">LargePositiveInteger&gt;&gt;abs</span>
</pre></div>

<p>The <span class="sansserif">LargeNegativeInteger</span> counter part compute the opposite
with <span class="sansserif">#negated</span> message:
</p>
<div class="display">
<pre class="display"><span class="sansserif">LargeNegativeInteger&gt;&gt;abs
   ^ self negated</span>
</pre></div>
   
<p>These two overriding methods are more efficient as they avoid test and
ifTrue/ifFalse branches. Polymorphism is often used to avoid test and
branching, it is done at the object level.
</p>
<p>As an object is modeled against a class, it is possible to ask its
class with the <span class="sansserif">#class</span> message. Observe carefully the class
returned in line 2 and 3:
</p>
<div class="float"><a name="askingClass"></a>
<div class="display">
<pre class="display"><span class="sansserif">1 class &rArr; SmallInteger 
(1/3) class &rArr; Fraction 
(6/2) class &rArr; SmallInteger 
(1/3) asFloat class  &rArr; SmallFloat64 
(1.0/3) class &rArr; SmallFloat64 
&rsquo;Hello&rsquo; class &rArr; String 
(&rsquo;Hello&rsquo; at: 1) class &rArr; Character</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.15: </strong>Asking the class of an instance</p></div></div>
<p>To ease the exploration of the system classes, we will first introduce
the system browser, a central tool to Cuis-Smalltalk oriented object
programming.
</p>
<a name="index-tools_002c-system-browser"></a>
<a name="index-browser"></a>
<a name="A-brief-introduction-to-the-system-browser"></a>
<h4 class="subsection">1.3.2 A brief introduction to the system browser</h4>
<p>The <em>System Browser</em>, in short the <em>Browser</em>, is a tool to
rule all the classes in Cuis-Smalltalk. It is both a tool to explore the
classes (system or user ones) and to write new classes and methods.
</p>
<p>To access the tool, ...Background click &rarr;
Open... &rarr; Browser...
</p>
<div class="float"><a name="B_002d01_002dbrowserDetailed"></a>
<div align="center"><img src="B-01-browserDetailed.png" alt="B-01-browserDetailed">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.4: </strong>The System Browser</p></div></div>
<a name="index-browser_002c-class-category"></a>
<p>At the top left are the <em>class categories</em>, there are group of
classes part of the same theme. It is also called <em>Package</em>, it is
an organisational element to save code. In <a href="#B_002d01_002dbrowserDetailed"><em>Figure</em> 1.4</a>, the
selected class category is <samp>Kernel-Numbers</samp>, a group of
classes we already explored. The term <samp>Kernel-</samp> indicates it
is part of fundamental categories, but it is only a convention. See
the other categories as <samp>Kernel-Text</samp> and
<samp>Kernel-Chronology</samp> related to text and date entities.
</p>
<a name="index-class_002c-declaration"></a>
<p>Next to the right are the classes in the selected class category. They
are nicely presented in a parent-child class hierarchy. When a class is
first selected in this pane, its declaration appears in the large pane
bellow, the <span class="sansserif">Number</span> class declaration is:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Magnitude subclass: #Number
   instanceVariableNames: &rdquo;
   classVariableNames: &rdquo;
   poolDictionaries: &rdquo;
   category: &rsquo;Kernel-Numbers&rsquo;</span>
</pre></div>

<p>Observe a few important points in this declaration:
</p>
<ul>
<li> <span class="sansserif">Number</span> is a sub class of <span class="sansserif">Magnitude</span>

</li><li> the declaration itself is Smalltalk code, indeed the message
   <span class="sansserif">#subclass:instanceVariableNames:classVariableNames:poolDictionaries:
   category:</span> is sent to <span class="sansserif">Magnitude</span>

</li><li> the <span class="sansserif">subclass:</span> argument <span class="sansserif">Number</span> is prefixed
   with &ldquo;#&rdquo;, it is a symbol, a kind of unique string. Indeed when
   declaring the <span class="sansserif">Number</span> class, the system does not know it
   yet, so it is named as a symbol.

</li><li> The <span class="sansserif">instanceVariableNames:</span> argument is a string:
   the instance variables of the class are declared by name separated
   by a space.

</li></ul>

<p>Next to the right is the method categories panel. It is user defined
method categories. A class can come with tenth of methods, grouping
them by category ease the user access. As a reference, <span class="sansserif">Number</span>
has more than 100 instance side methods implemented in
itself<a name="DOCF1" href="#FOOT1"><sup>1</sup></a>; therefore clicking the <samp>arithmetic</samp> category
directly gives access to related methods in the next and last pane at
the right.
</p>
<div class="float"><a name="stringArith"></a>
<blockquote class="indentedblock">
<p><em>How many methods is there
in the <samp>arithmetic</samp> method category of the <span class="sansserif">String</span>
class?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.19: </strong>Count of methods</p></div></div>
<p>In <a href="#B_002d01_002dbrowserDetailed"><em>Figure</em> 1.4</a>, bellow the classes pane, there are three
buttons:
</p>
<ul>
<li> <samp>instance</samp>: to access the <strong>instance methods</strong> of
   the selected class. For the recall, these methods are only
   accessible from the instances of the class.

</li><li> <samp>?</samp>: to access to documentation &ndash; comment &ndash; of the
   selected class.

</li><li> <samp>class</samp>: to access the <strong>class methods</strong> of the
   selected class. These methods are only accessible from the class
   itself.

</li></ul>

<p>Below these three buttons, observe the wide text pane, it provides
contextual information on the selected item.
</p>
<div class="float"><a name="floatInfo"></a>
<blockquote class="indentedblock">
<p><em>When the
<span class="sansserif">Float</span> class is selected, what is the information provided by
the text pane?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.20: </strong>Float class information</p></div></div>
<p>It is important to distinguish instance methods and class
methods. Let&rsquo;s consider the <span class="sansserif">Float</span> class as an example.
</p>
<a name="index-class_002c-class-method-1"></a>
<p><strong>Class Methods.</strong> In <a href="#B_002d01_002dfloatClassSide"><em>Figure</em> 1.5</a> the methods listed are
class side, in the browser the <samp>class</samp> button is pressed to see this
list. From a Workspace, this methods are called with the message name
sent directly to the class:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Float e
&rArr; 2.718281828459045
Float epsilon
&rArr; 2.220446049250313e-16
Float fmax
&rArr; 1.7976931348623157e308</span>
</pre></div>

<p>Nevertheless, you can not send this message to instance of
<span class="sansserif">Float</span>, it throws an error and opens the red debugger window.
</p>
<p>Just close the debug window for now to ignore the result.
We will look into this in more detail later.
</p>
<div class="display">
<pre class="display"><span class="sansserif">3.14 pi
&rArr; MessageNotUnderstood: SmallFloat64&gt;&gt;pi
Float pi e
&rArr; MessageNotUnderstood: SmallFloat64&gt;&gt;e</span>
</pre></div>

<p>Often these class methods are used to access constant value as seen in
the previous example or to create a new instances:
</p>
<div class="display">
<pre class="display"><span class="sansserif">OrderedCollection new
&rArr; Create a new empty ordered collection
Fraction numerator: 1 denominator: 3
&rArr; 1/3 a fraction instance
Float new
&rArr; 0.0
Float readFrom: &rsquo;001.200&rsquo;
&rArr; 1.2 
Integer primesUpTo: 20
&rArr; #(2 3 5 7 11 13 17 19) </span>
</pre></div>

<div class="float"><a name="B_002d01_002dfloatClassSide"></a>
<div align="center"><img src="B-01-floatClassSide.png" alt="B-01-floatClassSide">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.5: </strong>Class methods in <span class="sansserif">Float</span></p></div></div>
<a name="index-class_002c-instance-method-1"></a>
<p><strong>Instance methods.</strong> In <a href="#B_002d01_002dfloatInstanceSide"><em>Figure</em> 1.6</a>, the methods
listed are instance side, in the browser the <samp>instance</samp> button
is pressed to see this list. In a Workspace, this methods are called
with the message name sent directly to an instance:
</p>
<div class="display">
<pre class="display"><span class="sansserif">-10.12 abs &rArr; 10.12
3.14 cos &rArr; -0.9999987317275395
-10.12 * 2 &rArr; -20.24</span>
</pre></div>

<p>Instance method message can not be sent directly to a class, you need
to instantiate first an object:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Float cos
&rArr; MessageNotUnderstood: Float class&gt;&gt;cos
Fraction squared
&rArr; MessageNotUnderstood: Fraction class&gt;&gt;squared
OrderedCollection add: 10
&rArr; MessageNotUnderstood: OrderedCollection class&gt;&gt;add:</span>
</pre></div>

<p>Of course you can mix both class and instance methods, as long as you
send the message to the appropriate class or instance:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Float pi cos
&rArr; -1.0
Float e ln
&rArr; 1.0 
(Fraction numerator: 4 denominator: 5) squared
&rArr; 16/25
OrderedCollection new add: Float pi; add: Float e; yourself
&rArr; an OrderedCollection(3.141592653589793 2.718281828459045) 
</span>
</pre></div>

<div class="float"><a name="B_002d01_002dfloatInstanceSide"></a>
<div align="center"><img src="B-01-floatInstanceSide.png" alt="B-01-floatInstanceSide">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.6: </strong>Instance methods in <span class="sansserif">Float</span></p></div></div>
<a name="index-browser_002c-invoke-from-workspace"></a>
<p>A last bit of advice,  in the workspace when requesting the
class of an instance, <kbd>Ctrl-b</kbd> will invoke the browser on the
returned class:
</p>
<ul>
<li> In the workspace, on <span class="sansserif">1 class</span> execute and print
   with <kbd>Ctrl-p</kbd>,

</li><li> <span class="sansserif">SmallInteger</span> is printed and automatically selected by default,

</li><li> Invoke the browser on the selected <span class="sansserif">SmalltalkInteger</span>
   class with <kbd>Ctrl-b</kbd>,

</li><li> The browser is open on the <span class="sansserif">SmalltalkInteger</span>, ready to
   be explored.

</li></ul>

<p>With this brief introduction to the system browser, your are now
equipped to explore the system classes.
</p>
<a name="Cuis_002dSmalltalk-system-classes"></a>
<h4 class="subsection">1.3.3 Cuis-Smalltalk system classes</h4>
<p>As we already wrote Cuis-Smalltalk is a pure object oriented environment. It
means that every single entities you are dealing with are represented
as instances of classes written in Cuis-Smalltalk itself. As a direct
consequence, Cuis-Smalltalk is mostly written in itself.  In the previous
section we read some details of the <span class="sansserif">Fraction</span> class and both
instance and class side methods (<span class="sansserif">abs</span>, <span class="sansserif">squared</span> and
<span class="sansserif">numerator:denominator:</span>.
</p>
<p>What we call system classes are models of fundamental objects. In
other programming languages, it will be called standard library.
</p>
<p>To be honest, there is no such a distinction between system classes
and user classes, but it will help us to draw a boundary around the
most used objects. We will give a brief introduction to these classes
and the most important methods, part two gives a more detailed
presentation.
</p>
<p>The classes are organised in hierarchy grouped in categories. To
discover the most important classes, we use the browser to navigate
these categories in the left pane. Important categories to start with
are:
</p>

<ul>
<li> <samp>Kernel-Numbers</samp>. Related to the different number
   representations and calculated, including mathematics functions,
   conversion, intervals and even iterations.
   
</li><li> <samp>Kernel-Text</samp>. Related to character and string as
   collection of characters.
   
</li><li> <samp>Collections-Abstract</samp>,
   <samp>Collections-Unordered</samp>, <samp>Collections-Sequenceable</samp>,
   <samp>Collections-Arrayed</samp>. Related to Array, Dictionary, dynamic
   collection as OrderedCollection and many more. It includes
   accessing, enumerators, mathematics functions, sorting.

</li></ul>


<a name="Kernel_002dNumbers"></a>
<h4 class="subsubsection">1.3.3.1 Kernel-Numbers</h4>
<p>The top hierarchy <span class="sansserif">Number</span> class shows most of the behaviors
inherited by the sub classes as <span class="sansserif">Float</span>, <span class="sansserif">Integer</span> and
<span class="sansserif">Fraction</span>. The Smalltalk way to learn about a behavior is to
point the System Browser toward a top hierarchy class and to explore
the method categories.
</p>
<p>Let&rsquo;s suppose we want to round a float number. In <span class="sansserif">Number</span>, we
explore the <samp>Truncation and round off</samp> method category to
discover several behaviors. The next things to do, is to test these
messages in a Workspace to discover the one we are searching for:
</p>
<div class="float"><a name="roundingNumbers"></a>
<div class="display">
<pre class="display"><span class="sansserif">1.264 roundTo: 0.1 &rArr; 1.3 
1.264 roundTo: 0.01 &rArr; 1.26 
1.264 roundUpTo: 0.01 &rArr; 1.27
1.264 roundTo: 0.001 &rArr; 1.264</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.16: </strong>Rounding numbers, Workspace try out</p></div></div>

<a name="index-loop_002c-for-1"></a>
<a name="index-for-loop-1"></a>
<p>Number is a very strange place to look for an indexed loop in a given
interval. Nevertheless, an interval is defined by start and stop
numbers. In the <span class="sansserif">Number</span> class, the method category
<samp>intervals</samp> reveals related behaviors, we already met some of
them. These methods works indifferently with all kind of number:
</p>
<div class="float"><a name="intervalLoops"></a>
<div class="display">
<pre class="display"><span class="sansserif">1 to: 10 do: [:i | Transcript show: 1 / i; space]
&rArr; 1 (1/2) (1/3) (1/4) (1/5) (1/6) (1/7) (1/8) (1/9) (1/10)

1 to: 10 by: 2 do: [:i | Transcript show: 1 / i; space]
&rArr; 1 (1/3) (1/5) (1/7) (1/9)

1/10 to: 5/3 by: 1/2 do: [:i | Transcript show: i; space]
&rArr; (1/10) (3/5) (11/10) (8/5) (1/10) (3/5) (11/10) (8/5) 

Float pi to: 5 by: 1/3 do: [:i | Transcript show: (i roundTo: 0.01) ; space]
&rArr; 3.14 3.47 3.81 4.14 4.47 4.81</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.17: </strong>Interval loops (for-loop)</p></div></div>
<a name="index-loop_002c-repeat-1"></a>
<a name="index-repeat-1"></a>
<p>Now, in the <span class="sansserif">Integer</span> class, explore the method category
<samp>enumerating</samp>, here is the <span class="sansserif">timesRepeat:</span>. When a
portion of code needs to be executed several times
<a name="DOCF2" href="#FOOT2"><sup>2</sup></a>, without
the need of an index, the <span class="sansserif">#timesRepeat:</span> message is sent to an
integer. We already saw this variant in a previous section of this
chapter.  Throwing 5 times a 6 faces dice can be simulated with
integer:
</p>
<div class="float"><a name="playingDice"></a>
<div class="display">
<pre class="display"><span class="sansserif">5 timesRepeat: [Transcript show: 6 atRandom; space]
&rArr; 1 2 4 6 2</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.18: </strong>Throwing a dice 5 times</p></div></div>
<div class="float"><a name="cosTable"></a>
<blockquote class="indentedblock">
<p><em>Compute the cosine values in
the interval [0 ; 2PI], each 1/10. Output in the transcript.</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.21: </strong>Cosine table</p></div></div>
<a name="index-number_002c-base-1"></a>
<p>Integer numbers are represented in different bases when prefixed with
the base and &ldquo;r&rdquo;. When executing and printing <kbd>Ctrl-p</kbd> such a
number, it is immediately printed in the decimal base:
</p>
<div class="float"><a name="integerBase"></a>
<div class="display">
<pre class="display"><span class="sansserif">2r1111 &rArr; 15
16rF &rArr; 15
8r17 &rArr; 15
20rF &rArr; 15
10r15 &rArr; 15</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.19: </strong>Integer represented in different base</p></div></div>
<p>Writing numbers as Mayans or Babylonians<a name="DOCF3" href="#FOOT3"><sup>3</sup></a>:
</p>
<div class="float"><a name="countingAncients"></a>
<div class="display">
<pre class="display"><span class="sansserif">&quot;The Babylonians&quot;
60r10 &rArr; 60
60r30 &rArr; 180
60r60 &rArr; 360
60r30 + 60r60 &rArr; 540 
(60r30 + 60r60) printStringRadix: 60 &rArr; &rsquo;60r90&rsquo; 

&quot;The Mayans&quot;
20r10 &rArr; 20
20r40 &rArr; 80 &quot;pronounced 4-twenties in some languages&quot;
20r100 &rArr; 400</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.20: </strong>Counting like the ancients</p></div></div>
<a name="index-integer_002c-bits-shifting"></a>
<p>Because of the nature of a number represented in base 2, shifting its
bits left and right is equivalent to multiplying by 2 and dividing by
2:
</p>
<div class="float"><a name="shiftBits"></a>
<div class="display">
<pre class="display"><span class="sansserif">(2r1111 &lt;&lt; 1) printStringBase: 2 &rArr; &rsquo;11110&rsquo;
2r1111 &lt;&lt; 1 &rArr; 30
(2r1111 &gt;&gt; 1) printStringBase: 2 &rArr; &rsquo;111&rsquo;
2r1111 &gt;&gt; 1 &rArr; 7</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.21: </strong>Shifting bits</p></div></div>
<div class="float"><a name="multiplyBy1024"></a>
<blockquote class="indentedblock">
<p><em>How will you multiply
the integer 360 by 1024, without using the multiplication operation?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.22: </strong>Multiply by 1024</p></div></div>

<a name="Kernel_002dText"></a>
<h4 class="subsubsection">1.3.3.2 Kernel-Text</h4>
<p>Notably, this category comes with <span class="sansserif">Character</span>, <span class="sansserif">String</span>
and <span class="sansserif">Symbol</span>. <span class="sansserif">String</span> instance are collection of
<span class="sansserif">Character</span> instances.
</p>
<a name="index-character"></a>
<p><strong>Character.</strong> An individual character is written prefixed with a
&ldquo;$&rdquo;: <span class="sansserif">$A</span>. It can be defined with the class side method
<span class="sansserif">numericValue:</span> or converted from an integer instance with the
<span class="sansserif">#asCharacter</span>:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Character numericValue: 65 &rArr; $A
65 asCharacter &rArr; $A</span>
</pre></div>

<p>There are class side methods for non printable characters:
<span class="sansserif">Character tab</span>, <span class="sansserif">Character lf</span>, etc.
</p>
<p>As string are collection of characters, when enumerating a string we
can use the <span class="sansserif">Character</span> instance methods:
</p>
<div class="float"><a name="apples12"></a>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;There are 12 apples.&rsquo; select: [:c |c isDigit].
&rArr; &rsquo;12&rsquo;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.22: </strong>Twelve apples</p></div></div>
<div class="float"><a name="selectApples"></a>
<blockquote class="indentedblock">
<p><em>Modify <a href="#apples12"><em>Example</em> 1.22</a> to
reject the numeric characters.</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.23: </strong>Select apples</p></div></div>
<a name="index-string-1"></a>
<p><strong>String.</strong> <span class="sansserif">String</span> is a very large class, it comes with
more than 200 methods. Hopefully the methods are grouped in categories
and it is very easy to experiment from a Workspace when you are
looking for a specific behavior.
</p>
<p>Consider you need to search for a string in a string: when browsing
the <span class="sansserif">String</span> class, search for method categories named like
<samp>finding...</samp> or <samp>accessing</samp>. There you find a family of
<span class="sansserif">findXXX</span> methods. Read the comments at the beginning of these
methods:
</p>
<div class="display">
<pre class="display"><span class="sansserif">findString: subString
   &quot;Answer the index of subString within the receiver, starting at
   start. If the receiver does not contain subString, answer 0.&quot;
   ^self findString: subString startingAt: 1.</span>
</pre></div>

<p>Or:
</p>
<div class="display">
<pre class="display"><span class="sansserif">findString: key startingAt: start caseSensitive: caseSensitive
   &quot;Answer the index in this String at which the substring key first
   occurs, at or beyond start.  The match can be case-sensitive or
   not.  If no match is found, zero will be returned.&quot;
   ../..</span>
</pre></div>

<p>Then experiment the potentially interesting messages in a workspace:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;I love apples&rsquo; findString: &rsquo;love&rsquo; &rArr; 3 &quot;find at position 3&quot;
&rsquo;I love apples&rsquo; findString: &rsquo;hate&rsquo;
&rArr;  0 &quot;no finding&quot;
&rsquo;We humans, we all love apples&rsquo; findString: &rsquo;we&rsquo;
&rArr; 12 
&rsquo;We humans, we all love apples&rsquo;
   findString: &rsquo;we&rsquo;
   startingAt: 1
   caseSensitive: false
&rArr; 1 
&rsquo;we humans, we all love apples&rsquo; findString: &rsquo;we&rsquo;
&rArr; 1 
&rsquo;we humans, we all love apples&rsquo; findString: &rsquo;we&rsquo; startingAt: 2
&rArr; 12</span>
</pre></div>

<p>Following these paths will, most of the time, leads you to the answer
you are looking for.
</p>
<div class="float"><a name="formatString"></a>
<blockquote class="indentedblock">
<p><em>We want to format a
string of the form &rsquo;Joe bought XX apples and YY oranges&rsquo; to the form
&rsquo;Joe bought 5 apples and 4 oranges&rsquo;. What message should be used?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.24: </strong>Format a string</p></div></div>
<a name="index-class_002c-inheritance-1"></a>
<a name="index-class_002c-protocol"></a>
<a name="index-protocol"></a>

<p>The <span class="sansserif">String</span> also inherits its behavior from its ancestors,
parent classes. Indeed a <span class="sansserif">String</span> is a subclass of
<span class="sansserif">ArrayedCollection</span>. The direct consequence is that when
searching for some specific behavior, you may need to explore the
parent classes too. The whole behavior of a class, defined in the
class itself and its parents is named its <em>protocol</em>.
</p>
<a name="index-browser_002c-hierarchy"></a>
<a name="index-browser_002c-protocol"></a>
<p>Again the browser is helpful to explore a class protocol. You have two
options:
</p>
<ol>
<li> <strong>Explore the protocol.</strong> In the class pane of the
   browser, do ...select <span class="sansserif">String</span> class &rarr;
   click the right mouse button &rarr; in the menu select
   <samp>Browse protocol (p)</samp>... Alternatively, use the keyboard
   shortcut <kbd>Ctrl-p</kbd>.

<div class="float"><a name="B_002d01_002dbrowseProtocol"></a>
<div align="center"><img src="B-01-browseProtocol.png" alt="B-01-browseProtocol">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.7: </strong>Browse <span class="sansserif">String</span> protocol</p></div></div>
<p>The new window is a protocol browser for the <span class="sansserif">String</span>
   class. At the left, a hierarchy of the <span class="sansserif">String</span> ancestors;
   selecting one class there only shows the protocol starting from
   this class down to the <span class="sansserif">String</span> class. In the pane at the
   right is the list of methods of the selected ancestry. The specific
   protocol to <span class="sansserif">String</span> is bold; surrounded by parenthesis, the
   class the method is implemented in.
</p>
<p>In <a href="#B_002d01_002dbrowseProtocol"><em>Figure</em> 1.7</a>, no specific class is selected,
   therefore the whole <span class="sansserif">String</span> protocol is listed at the
   right. The method <span class="sansserif">before:</span> implemented in
   <span class="sansserif">SequenceableCollection</span> is selected and its source code is
   displayed on the large bottom pane.
</p>
</li><li> <strong>Explore the hierarchy.</strong> In the class pane of the
   browser, do ...select <span class="sansserif">String</span> class &rarr;
   click the right mouse button &rarr; in the menu select
   <samp>Browse hierarchy (h)</samp>... Alternatively, use the keyboard
   shortcut <kbd>Ctrl-h</kbd> or the button <samp>hierarchy</samp> on the
   system browser.

<div class="float"><a name="B_002d01_002dbrowseHierarchy"></a>
<div align="center"><img src="B-01-browseHierarchy.png" alt="B-01-browseHierarchy">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.8: </strong>Browse the <span class="sansserif">String</span> hierarchy</p></div></div>
<p>The hierarchy browser is very like the system browser with only two
   differences:
</p>
<ul>
<li> At the far left, the class categories pane is absent,
      
</li><li> In the classes pane, the hierarchy of <span class="sansserif">String</span> is
      printed. It makes easy to browse <span class="sansserif">String</span> parents and
      children class.

</li></ul>

</li></ol>

<p>The hierarchy browser is a general tool for exploration. Contrary to
the protocol browser, it does not display at once the whole protocol
of a class. In <a href="#B_002d01_002dbrowseHierarchy"><em>Figure</em> 1.8</a>, the class
<span class="sansserif">SequenceableCollection</span> is selected as well as its method
<span class="sansserif">before:</span>.
</p>
<p>This method extracts from a collection the element before a specified
element. When inherited in <span class="sansserif">String</span>, those elements are
<span class="sansserif">Character</span> instances:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;1 + 3i&rsquo; before: $i
&rArr; $3 
</span>
</pre></div>

<p>Practice the tools and resolve the exercise bellow.
</p>
<div class="float"><a name="cutString"></a>
<blockquote class="indentedblock">
<p><em>Find the appropriate
method to transform &rsquo;Hello My Friend&rsquo; in &rsquo;My Friend&rsquo;?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.25: </strong>Cut a string</p></div></div>
<p>Beware, some messages in the <span class="sansserif">String</span> protocol may obviously not
work. Observe bellow, the error is thrown on a <span class="sansserif">Character</span>
instance:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;Hello My Friend&rsquo; cos
&rArr; MesageNotUnderstood: Character&gt;&gt;cos</span>
</pre></div>

<a name="index-symbol"></a>
<p><strong>Symbol.</strong> A symbol is very like a string but it is unique and
never duplicated. It is written as <span class="sansserif">#hello</span>, and often used
as a constant. You already observe how in the book we noted messages
as symbol, it is because each message is unique. You will use symbol
when you need to name something uniquely.
</p>
<p>Observe in the example bellow, the strings are not identical once
duplicated &ndash; understand not the same memory location in the computer
&ndash; however symbols are identical even when duplicated<a name="DOCF4" href="#FOOT4"><sup>4</sup></a>:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello&rsquo; == &rsquo;hello&rsquo; copy
&rArr; false 
#hello  == #hello copy
&rArr; true</span>
</pre></div>

<p>Symbols can be written with space:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Symbol with space character,symbolSpace,
#&rsquo;hello my friend&rsquo;
&rsquo;hello my friend&rsquo; asSymbol</span>
</pre></div>

<p><span class="sansserif">Symbol</span> is a sub class of <span class="sansserif">String</span>, a lot of its behavior
is inherited. It is helpful to make handy symbol:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello my friend&rsquo; asCamelCase asSymbol 
&rArr; #helloMyFriend</span>
</pre></div>

<a name="Collections"></a>
<h4 class="subsubsection">1.3.3.3 Collections</h4>
<a name="index-collection"></a>
<p>The <samp>Collections-</samp> class categories are the most prolific,
there are 7 of them gathering 46 classes.
</p>
<a name="index-class_002c-abstract"></a>
<p>The category <samp>Collections-Abstract</samp> groups classes which are
said to be abstract. An <em>abstract</em> class cannot be instantiated,
its behavior is declared but not completely implemented. It is the
responsibility of its sub classes to implement the missing part of the
behavior. Observe how the important <span class="sansserif">do:</span> method is declared
but not implemented:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Collection&gt;&gt;do: aBlock 
&quot;Evaluate aBlock with each of the receiver&rsquo;s elements as the argument.&quot;
self subclassResponsibility</span>
</pre></div>

<p>Then observe how two different <span class="sansserif">Collection</span> sub classes
implement it:
</p>
<div class="display">
<pre class="display"><span class="sansserif">OrderedCollection&gt;&gt;do: aBlock 
firstIndex to: lastIndex do: [ :index |
   aBlock value: (array at: index) ]</span>
</pre></div>

<p>and:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Dictionary&gt;&gt;do: aBlock
super do: [:assoc | aBlock value: assoc value]</span>
</pre></div>


<p>Two groups of collections must be distinguished: collection with a
fixed size and collection with a variable size.
</p>
<a name="index-collection_002c-fixed-size"></a>
<p><strong>Collection of fixed size.</strong>  Such collections are gathered in
the category <samp>Collections-Arrayed</samp>. The most notable one is
<span class="sansserif">Array</span>, its size &ndash; the number of elements it can hold &ndash; is
set when creating the instance. Once instantiated, you can not add nor
delete elements to an array.
</p>
<a name="index-collection_002c-instantiate-array"></a>
<a name="index-Array"></a>

<p>There are different ways to create <span class="sansserif">Array</span> instance:
</p>
<div class="float"><a name="createArray"></a>
<div class="display">
<pre class="display"><span class="sansserif">array1 := #(2 &rsquo;Apple&rsquo; $@ 4) &quot;create at compile time&quot;
array1b := {2 . &rsquo;Apple&rsquo; . 2@1 . 1/3 } &quot;created a execution time&quot;
array2 := Array with: 2 with: &rsquo;Apple&rsquo; with: 2@3 with: 1/3.
array3 := Array ofSize: 4 &quot;an empty array with a 4 elements capacity&quot;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.23: </strong>Collection with a fixed size</p></div></div>
<p>Array <span class="sansserif">array1</span> and <span class="sansserif">array1b</span> are bit
different. The former one is created and filled with its contents at
compile time of the code, the consequence is it can only be filled
with literal elements as integer, float, string. The later one is
created at execution time of the code, it can be filled with elements
instantiated at the execution time as <span class="sansserif">Fraction</span> or
<span class="sansserif">Point</span> instances.
</p>
<a name="index-collection_002c-access-element"></a>
<p>You can access element:
</p><div class="float"><a name="collectionAccess"></a>
<div class="display">
<pre class="display"><span class="sansserif">array1 first &rArr; 2
array1 second &rArr; &rsquo;Apple&rsquo;
array1 third &rArr; $@
array1 fourth &rArr; 4
array1 last &rArr; 4
array1 at: 2 &rArr; &rsquo;Apple&rsquo;
array2 at: 3 &rArr; $2@3
array2 swap: 2 with: 4 &rArr; #(2 4 $@ &rsquo;Apple&rsquo;) 
array1 at: 2 put: &rsquo;Orange&rsquo;; yourself &rArr; #(2 &rsquo;Orange&rsquo; $@ 4)
array1 indexOf: &rsquo;Apple&rsquo; &rArr; 2</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.24: </strong>Collection access to elements</p></div></div>
<p>Use the system browser to discover alternative way to access elements
of a collection.
</p>
<div class="float"><a name="collFirst"></a>
<blockquote class="indentedblock">
<p><em>What is the
appropriate message to access the first 2 elements of the
<span class="sansserif">array1</span> collection?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.26: </strong>Access part of a collection</p></div></div>
<p>You can&rsquo;t add or remove an element, though:
</p>
<div class="display">
<pre class="display"><span class="sansserif">array1 add: &rsquo;Orange&rsquo;
&rArr; Error: &rsquo;This message is not appropriate for this object&rsquo;
array1 remove: &rsquo;Apple&rsquo;
&rArr;  Error: &rsquo;This message is not appropriate for this object&rsquo;</span>
</pre></div>

<p>Nevertheless, it is possible to fill at once an array:
</p>
<div class="float"><a name="fillArray"></a>
<blockquote class="indentedblock">
<p><em>How will you fill at once
<span class="sansserif">array4</span> with &rsquo;kiwi&rsquo;?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.27: </strong>Fill an array</p></div></div>
<a name="index-collection_002c-variable-size"></a>
<p><strong>Collection of variable size.</strong>  Such collection are gathered in
several class categories: <samp>Collections-Unordered</samp>,
<samp>Collections-Sequenceable</samp>, etc. They represent the most common
collections.
</p>
<p><span class="sansserif">OrderedCollection</span> is a notable one. Its elements are ordered:
elements are added one after the other one<a name="DOCF5" href="#FOOT5"><sup>5</sup></a>. Its size is
variable depending on added or removed elements.
</p>
<a name="index-collection_002c-instantiate-variable-size-array"></a>
<a name="index-OrderedCollection"></a>

<div class="float"><a name="createOrderedColl"></a>
<div class="display">
<pre class="display"><span class="sansserif">coll1 := {2 . &rsquo;Apple&rsquo; . 2@1 . 1/3 } asOrdredCollection
coll2 := OrderedCollection with: 2 with: &rsquo;Apple&rsquo; with: 2@1 with: 1/3
coll3 := OrderedCollection ofSize: 4</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.25: </strong>Collection with a variable size</p></div></div>
<p>The access to its elements is identical to an <span class="sansserif">Array</span>
instance. You can add and remove element, though:
</p>
<div class="float"><a name="remDelArray"></a>
<div class="display">
<pre class="display"><span class="sansserif">coll1 add: &rsquo;Orange&rsquo;; yourself
&rArr; an OrderedCollection(2 &rsquo;Apple&rsquo; 2@1 1/3 &rsquo;Orange&rsquo;)
coll1 remove: 2@1; yourself
&rArr; an OrderedCollection(2 &rsquo;Apple&rsquo; 1/3)</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.26: </strong>Adding, removing element from a
dynamic array</p></div></div>
<div class="float"><a name="addAfter"></a>
<blockquote class="indentedblock">
<p><em>How to add &rsquo;Orange&rsquo; after
&rsquo;Apple&rsquo; in <span class="sansserif">coll1</span>?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.28: </strong>Add an element after</p></div></div>
<a name="index-Set"></a>
<a name="index-collection_002c-Set"></a>
<p><strong>Set.</strong> <span class="sansserif">Set</span> is an unordered collection without duplicated
elements. The order of the element is not guaranteed, though. Observe
how pi is the first element of the set:
</p>
<div class="float"><a name="setCollection"></a>
<div class="display">
<pre class="display"><span class="sansserif">set := Set new.
set add: 1; add: Float pi; yourself
&rArr; a Set(3.141592653589793 1)</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.27: </strong>Set collection</p></div></div>
<p>Non duplicate are guaranteed at best, even with number of different
types. Observe how <span class="sansserif">1</span>, <span class="sansserif">3/3</span> and <span class="sansserif">1.0</span>
are considered equal and not duplicated in the set:
</p>
<div class="float"><a name="setWithoutDuplicates"></a>
<div class="display">
<pre class="display"><span class="sansserif">set := Set new.
set add: 1; add: Float pi; add: 3/3; add: 1/3; add: 1.0; yourself
&rArr; a Set(1/3 3.141592653589793 1)</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.28: </strong>Set, without duplicates</p></div></div>

<a name="index-collection_002c-convert"></a>
<p>A very handy way to create a <span class="sansserif">Set</span> instance, or any other
collection, is to create a dynamic array and convert it with the
<span class="sansserif">#asSet</span> message:
</p>
<div class="float"><a name="convertDynArray"></a>
<div class="display">
<pre class="display"><span class="sansserif">{1 . Float pi . 3/3 . 1/3 . 1.0} asSet
&rArr; a Set(3.141592653589793 1/3 1)</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.29: </strong>Convert dynamic array</p></div></div>
<p>Observe the alternate conversion messages:
</p>
<div class="display">
<pre class="display"><span class="sansserif">{1 . Float pi . 3/3 . 1/3 . 1.0} asOrderedCollection
&rArr; an OrderedCollection(1 3.141592653589793 1 1/3 1.0) 

{1 . Float pi . 3/3 . 1/3 . 1.0} asSortedCollection
&rArr; a SortedCollection(1/3 1 1 1.0 3.141592653589793)</span>
</pre></div>

<p>To compile the divisors list of 30 and 45 (not the common divisors):
</p>
<div class="display">
<pre class="display"><span class="sansserif">Set  new 
   addAll: #(1 2 3 5 6 10 15 30) ; 
   addAll: #(1 3 5 9 15 45) ; 
   yourself. 
&rArr; a Set(5 10 15 1 6 30 45 2 3 9) </span>
</pre></div>

<div class="float"><a name="setLetters"></a>
<blockquote class="indentedblock">
<p><em>How will you compile the letters in
the sentences &rsquo;buenos d&iacute;as&rsquo; and &rsquo;bonjour&rsquo;?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.29: </strong>Letters</p></div></div>
<a name="index-collection_002c-Dictionary"></a>
<a name="index-Dictionary"></a>
<p><strong>Dictionary.</strong> A dictionary is a list of associations between a
key and an object. Of course a key is an object, but it must respond
to the equality behavior. Most of the time, the used are symbol.
</p>
<p>To compile a list of colors:
</p>
<div class="float"><a name="colorDict"></a>
<div class="display">
<pre class="display"><span class="sansserif">| colors |
colors := Dictonary new.
colors
   add: #red -&gt; Color red;
   add: #blue -&gt; Color blue;
   add: #green -&gt; Color green</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.30: </strong>Dictionary of colors</p></div></div>
<p>There are shorter writings:
</p><div class="display">
<pre class="display"><span class="sansserif">colors := Dictionary newFrom:
   {#red -&gt; Color red . #blue -&gt; Color blue . #green -&gt; Color green}.
colors := {#red -&gt; Color red . #blue -&gt; Color blue .
   #green -&gt; Color green} asDictionary</span>
</pre></div>

<p>You access color by symbols:
</p>
<div class="display">
<pre class="display"><span class="sansserif">colors at: #blue
&rArr; Color blue
colors at: #blue put: Color blue darker
colors at: #yellow ifAbsentPut: Color yellow
&rArr; association &lsquo;#yellow -&gt; Colors yellow&lsquo; added to the dictionary</span>
</pre></div>


<p>There are different way to access a dictionary contents:
</p>
<div class="display">
<pre class="display"><span class="sansserif">colors keys.
&rArr; #(#red #green #blue) 
colors keyAtValue: Color green
&rArr; #green </span>
</pre></div>

<p><strong>Beware.</strong> The classic enumerators iterate the values of the
dictionary:
</p>
<div class="display">
<pre class="display"><span class="sansserif">colors do: [:value | Transcript show:  value; space ]
&rArr; (Color r: 1.000 g: 1.000 b: 0.078) (Color r: 0.898 g: 0.000 b: 0.000)...</span>
</pre></div>

<p>Sometimes, you really need to iterated the whole key-value association:
</p>
<div class="display">
<pre class="display"><span class="sansserif">colors associationsDo: [:assoc | 
   Transcript show: assoc key; space; assoc value; cr ] </span>
</pre></div>

<p>There are other variants to explore by yourself.
</p>
<div class="float"><a name="nameColor"></a>
<blockquote class="indentedblock">
<p><em>With an appropriate
enumerator, how will you edit the contents of the <span class="sansserif">colors</span>
dictionary to replace its values with a nicely capitalized string?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.30: </strong>Color by name</p></div></div>
<p>There are many more collections to explore. You now know enough to
explore and to search by yourself with the system browser, and to
experiment with the workspace.
</p><div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h3><a name="FOOT1" href="#DOCF1">(1)</a></h3>
<p>When considering its parents, the count is greater
than 300.</p>
<h3><a name="FOOT2" href="#DOCF2">(2)</a></h3>
<p>Understand repeated an integer number of times.</p>
<h3><a name="FOOT3" href="#DOCF3">(3)</a></h3>
<p>Bases 20 and 60
number representation are not exclusive to these civilisations,
although there are the most documented use cases.</p>
<h3><a name="FOOT4" href="#DOCF4">(4)</a></h3>
<p>To be
honest, copying a symbol just returns the original symbol.</p>
<h3><a name="FOOT5" href="#DOCF5">(5)</a></h3>
<p>Of course you can
insert an element between two elements. However <span class="sansserif">LinkList</span>
instance are more efficient for this use case scenario.</p>
</div>
<hr>
<div class="header">
<p>
Previous: <a href="Writing-your-first-scripts.html#Writing-your-first-scripts" accesskey="p" rel="prev">Writing your first scripts</a>, Up: <a href="Getting-started.html#Getting-started" accesskey="u" rel="up">Getting started</a> &nbsp; [<a href="Indexes.html#Indexes" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
