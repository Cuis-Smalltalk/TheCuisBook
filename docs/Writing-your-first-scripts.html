<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This book is for Cuis-Smalltalk (5.0#4253), a free and modern
implementation of the Smalltalk language and environment.

Copyright (C) 2020 K. Dickey, H. Fernandes, J. Vuletich







Compilation : August 30, 2020

Documentation source: https://github.com/Cuis-Smalltalk/TheCuisBook 



The contents of this book are protected under Creative Commons
Attribution-ShareAlike 4.0 International.

You are free to:


Share - copy and redistribute the material in any medium or
format


Adapt - remix, transform, and build upon the material for any
purpose, even commercially.



Under the following terms:


Attribution. You must give appropriate credit, provide a link to
the license, and indicate if changes were made. You may do so in any
reasonable manner, but not in any way that suggests the licensor
endorses you or your use.


Share Alike. If you remix, transform, or build upon the material,
you must distribute your contributions under the same license as the
original.

Complete license: https://creativecommons.org/licenses/by-sa/4.0/legalcode
 -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Writing your first scripts (The Cuis-Smalltalk Book)</title>

<meta name="description" content="Writing your first scripts (The Cuis-Smalltalk Book)">
<meta name="keywords" content="Writing your first scripts (The Cuis-Smalltalk Book)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Indexes.html" rel="index" title="Indexes">
<link href="Smalltalk-Philosophy.html" rel="up" title="Smalltalk Philosophy">
<link href="Spacewar_0021.html" rel="next" title="Spacewar!">
<link href="Installing-and-configuring-Cuis_002dSmalltalk.html" rel="prev" title="Installing and configuring Cuis-Smalltalk">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="en">
<span id="Writing-your-first-scripts"></span><div class="header">
<p>
Next: <a href="Spacewar_0021.html" accesskey="n" rel="next">Spacewar!</a>, Previous: <a href="Installing-and-configuring-Cuis_002dSmalltalk.html" accesskey="p" rel="prev">Installing and configuring Cuis-Smalltalk</a>, Up: <a href="Smalltalk-Philosophy.html" accesskey="u" rel="up">Smalltalk Philosophy</a> &nbsp; [<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Writing-your-first-scripts-1"></span><h3 class="section">1.3 Writing your first scripts</h3>
<p>In this section you will learn how to write simple scripts in the
Workspace to get a taste and feeling about Smalltalk code. The
examples are associated with small exercises to experiment with and
accompanied with solutions in the annex. We intentionally keep the
details of the syntax out of this section.
</p>
<p>In a Workspace, the usual <em>Hello world!</em> program can be written
in Smalltalk:
</p>
<div class="float"><span id="hello"></span>
<div class="display">
<pre class="display"><span class="sansserif">Transcript show: &rsquo;Hello World&rsquo;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.1: </strong>The traditional &rsquo;Hello World!&rsquo; program</p></div></div>
<span id="index-tools_002c-transcript"></span>
<p>To execute this code, select it with the mouse and
...right mouse click &rarr; Do it (d)...  You may now see nothing
happen! Indeed to see the output, you need a <em>Transcript</em> window to be visible.
The <span class="sansserif">Transcript</span> is a place where programmer can send information for the user as we are
doing here. Do ...Background click &rarr;
Open... &rarr; Transcript... and execute the code again.
</p>
<div class="float"><span id="ch01_002dimg2"></span>
<div align="center"><img src="ch01-img2.png" alt="ch01-img2">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 1.3: </strong>Transcript window with output</p></div></div>
<p>This code comes in three parts:
</p>
<ul>
<li> the literal <span class="sansserif">&rsquo;Hello World!&rsquo;</span>  

</li><li> the message <span class="sansserif">#show:</span> with its argument <span class="sansserif">&rsquo;Hello World!&rsquo;</span>

</li><li> the class <span class="sansserif">Transcript</span> receiving the message <span class="sansserif">#show:</span> with its argument

</li></ul>

<p>The action of printing takes place in the class
<span class="sansserif">Transcript</span>. The code execution is invoked with keyboard
shortcuts <kbd>Ctrl-A</kbd> then <kbd>Ctrl-D</kbd> (<em><b>D</b>o it</em>).
</p>
<div class="float"><span id="hello2"></span>
<div class="display">
<pre class="display"><span class="sansserif">Transcript show: &rsquo;Hello World!&rsquo;.
Transcript newLine.
Transcript show: &rsquo;I am Cuising&rsquo;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.2: </strong>Multiple lines</p></div></div>
<p>In this three lines script, observe how the line are separated by a
dot &ldquo;.&rdquo;. This period is a line separator not needed in the third line
nor in a one line script. The message <span class="sansserif">#newLine</span> has no argument.
</p>
<span id="index-cascade-of-messages"></span>
<p>In the <a href="#hello2"><em>Example</em> 1.2</a> example, the message <span class="sansserif">#show:</span> and <span class="sansserif">#newLine</span>
are sent to the same <span class="sansserif">Transcript</span> class. In such circumstance,
we can use the <em>cascade</em> technique to avoid this repetition. The
receiver <span class="sansserif">Transcript</span> is written once and the sent messages are
separated by semicolon:
</p>
<div class="float"><span id="helloCascade"></span>
<div class="display">
<pre class="display"><span class="sansserif">Transcript
   show: &rsquo;Hello World!&rsquo;;
   newLine;
   show: &rsquo;I am Cuising&rsquo;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.3: </strong>Cascade of message</p></div></div>
<p>Observe the text here is formatted to ease code understanding. It is possible to
write the cascade of messages in one line, but it reduces the
readability of the code:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Transcript show: &rsquo;Hello World!&rsquo;; newLine; show: &rsquo;I am Cuising&rsquo;</span>
</pre></div>

<p>The <span class="sansserif">Transcript</span> class is frequently helpful in presenting
useful information when developing an application. As an alternative
to the <kbd>Ctrl-d</kbd> shortcut, <kbd>Ctrl-p</kbd> (<em><b>P</b>rint it</em>)
executes the script and prints the result direcly in the Workspace.
</p>
<p>In the example, we have requested no special result.  Selecting the
text and typing <kbd>Ctrl-p</kbd> results in the default, which is to
return the object to which a message is sent, in this case the
<span class="sansserif">Transcript</span>.
</p>


<span id="Fun-with-numbers"></span><h4 class="subsection">1.3.1 Fun with numbers</h4>
<span id="index-number_002c-integer"></span>

<p>In your Workspace, to compute a factorial execute the example bellow
with <kbd>Ctrl-a</kbd> then <kbd>Ctrl-p</kbd>:
</p><div class="display">
<pre class="display"><span class="sansserif">100 factorial
&rArr;  9332621544394415268169923885626670049071596826438162146859
29638952175999932299156089414639761565182862536979208272237582
51185210916864000000000000000000000000</span>
</pre></div>

<p>Cuis-Smalltalk handles very large integer number without the need to use
special type or method. To convince yourelf try the example bellow:
</p><div class="display">
<pre class="display"><span class="sansserif">10000 factorial / 9999 factorial
&rArr; 10000</span>
</pre></div>

<p>If you execute and print with <kbd>Ctrl-p</kbd> the code: <span class="sansserif">10000
factorial</span>, you realize it takes far more time to print one factorial
than computing two factorials and a division. The result is an integer
as expected, not a decimal number answer as many computer languages
will return.
</p>
<p>As we are discussing division, you may not get the result you think:
</p><div class="display">
<pre class="display"><span class="sansserif">15 / 4
&rArr; 15/4</span>
</pre></div>

<p>It looks like Cuis-Smalltalk is lazy because it does not respond the decimal
number <span class="sansserif">3.75</span> as we were expecting. In fact Cuis-Smalltalk wants to
be as accurate as possible, and its answer is a rational fraction! After
all, fractions are just division we are too lazy &ndash; because it
is troublesome &ndash; to compute, Cuis-Smalltalk does just that!
</p>
<p>Try out this to understand what is happening underneath:
</p><div class="display">
<pre class="display"><span class="sansserif">(15 / 4) + (1 / 4)
&rArr; 4</span>
</pre></div>

<p>Is it not wonderful? Cuis-Smalltalk computes with rational numbers. We
started with division and addition operations on integer, and we got
an accurate result thanks to intermediate computation on rational
numbers.
</p>
<blockquote class="indentedblock">
<p>&nbsp;<img src="note.png" alt="note">
In the example, observe how the parenthesis are used
although in arithmetic calculation the division is operated first. With
Cuis-Smalltalk you need to explicit the order of operation with
parenthesis. We will explain why later.
</p></blockquote>

<div class="float"><span id="inverseSum"></span>
<blockquote class="indentedblock">
<p><em>Write the code to compute the
sum of the first four integer inverses.</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.2: </strong>Inverse sum</p></div></div><span id="index-number_002c-root"></span>
<span id="index-number_002c-sqrt"></span>
<span id="index-number_002c-squared"></span>
<p>All four arithmetic operations and mathematical functions are
compatible with the rational number representation:
</p><div class="display">
<pre class="display"><span class="sansserif">(15 / 14) * (21 / 5) &rArr; 9 / 2
(15 / 14) / ( 5 / 21) &rArr; 9 /2 
(3 / 4) squared &rArr; 9 / 16
(25 / 4) sqrt &rArr; 5 / 2</span>
</pre></div>

<div class="float"><span id="squaredSum"></span>
<blockquote class="indentedblock">
<p>Write the code to compute the
sum of the squares of the inverse of the first four integers.
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.3: </strong>Sum of the squares</p></div></div>
<span id="index-number_002c-decimal-division"></span>
<p>If Cuis-Smalltalk divides integer as rational number, how to compute the
decimal division? One option is to write a number as a <em>Float</em>, it
is the decimal representation in programming language, the integer
part and fractional parts are separated by a dot &ldquo;.&rdquo;:
</p><div class="display">
<pre class="display"><span class="sansserif">15.0 / 4 &rArr;3.75
15 / 4.0 &rArr; 3.75</span>
</pre></div>

<p>Another option is to convert an integer to a float with the
<span class="sansserif">#asFloat</span> message. It is very useful when the integer is in a
variable:
</p>
<div class="display">
<pre class="display"><span class="sansserif">15 asFloat / 4
&rArr; 3.75</span>
</pre></div>

<span id="index-number_002c-integer-division"></span>
<p>Alternatively to the decimal division, you ask integer division with
the message <span class="sansserif">#//</span>:
</p><div class="display">
<pre class="display"><span class="sansserif">15 // 4
&rArr; 3</span>
</pre></div>

<span id="index-number_002c-division-reminder"></span>
<p>The reminder of the Euclidean division is computed with the message
<span class="sansserif">#\\</span>:
</p><div class="display">
<pre class="display"><span class="sansserif">15 \\ 4
&rArr; 3</span>
</pre></div>

<span id="index-number_002c-odd"></span>
<span id="index-number_002c-even"></span>
<span id="index-number_002c-isPrime"></span>
<span id="index-number_002c-isDivisibleBy_003a"></span>
<p>Cuis-Smalltalk knows some arithmetic operations to test if an integer is an
odd, even or prime number. You just send the appropriate message to
the number:
</p>
<div class="float"><span id="integerBasicTest"></span>
<div class="display">
<pre class="display"><span class="sansserif">25 odd &rArr; true
25 even &rArr; false
25 isPrime &rArr; false
23 isPrime &rArr; true
91 isDivisibleBy: 7 &rArr; true
117 isDivisibleBy: 7 &rArr; false
117 isDivisibleBy: 9 &rArr; true</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 1.4: </strong>Testing on integer</p></div></div>
<span id="index-number_002c-gcd_003a"></span>
<span id="index-number_002c-lcm_003a"></span>
<p>With specific <em>keyword messages</em> you compute the Least Common
Multiple and Greatest Common Divisor. A keyword message is composed of
one or several colon(s) &ldquo;:&rdquo; to insert argument(s):
</p>
<div class="display">
<pre class="display"><span class="sansserif">12 lcm: 15 &rArr; 60
12 gcd: 15 &rArr; 3</span>
</pre></div>
<p>Integer can be printed in different forms:
</p>
<span id="index-number_002c-roman"></span>
<span id="index-number_002c-as-words"></span>
<span id="index-number_002c-base"></span>
<div class="display">
<pre class="display"><span class="sansserif">2020 printStringRoman &rArr; &rsquo;MMXX&rsquo; 
2020 printStringWords  &rArr; &rsquo;two thousand, twenty&rsquo;
&quot;Number as the Maya did&quot;
2020 printStringBase: 20 &rArr; &rsquo;510&rsquo;</span>
</pre></div>

<span id="index-number_002c-literal"></span>
<span id="index-literal_002c-number"></span>
<p>Integer and float numbers we have played with are <em>Numeric
Literals</em>. There are building blocks of the language and considered as
constant expressions. There are different syntax to write a number:
</p>
<table>
<thead><tr><th width="45%">Numeric literal</th><th width="55%">What it represents</th></tr></thead>
<tr><td width="45%"><span class="sansserif">1</span></td><td width="55%">decimal integer</td></tr>
<tr><td width="45%"><span class="sansserif">2r101</span></td><td width="55%">binary integer</td></tr>
<tr><td width="45%"><span class="sansserif">16rFF</span></td><td width="55%">hexadecimal integer</td></tr>
<tr><td width="45%"><span class="sansserif">1.5</span></td><td width="55%">floating point number</td></tr>
<tr><td width="45%"><span class="sansserif">2.4e7</span></td><td width="55%">exponential notation</td></tr>
</table>



<span id="Fun-with-text"></span><h4 class="subsection">1.3.2 Fun with text</h4>
<span id="index-string"></span>
<p>A <em>String</em> is the way text is represented in a programming
language, it is a collection of characters. We already met string with
our first script, it is enclosed in single quotes: <span class="sansserif">&rsquo;hello
world!&rsquo;</span>. We capitalize it with the <span class="sansserif">#capitalized</span> message:
</p>
<span id="index-string_002c-capitalized"></span>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello world!&rsquo; capitalized
&rArr; &rsquo;Hello world!&rsquo; </span>
</pre></div>

<div class="float"><span id="capWordNumber"></span>
<blockquote class="indentedblock">
<p><em>Print 2020 as
words capitalized.</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.4: </strong>Capitalize number as words</p></div></div>
<span id="index-string_002c-concatenate"></span>
<p>Two strings are concatenated with the <span class="sansserif">#,</span> message
</p><div class="display">
<pre class="display"><span class="sansserif">&rsquo;Hello&rsquo;, &rsquo; &rsquo;, &rsquo;my beloved&rsquo;, &rsquo; &rsquo;, &rsquo;friend&rsquo;
&rArr; &rsquo;Hello my beloved friend&rsquo;</span>
</pre></div>

<span id="index-string_002c-character-access"></span>
<p>Access to a character in a string is done with the keyword message
<span class="sansserif">#at:</span> and its index position in the string:
</p><div class="display">
<pre class="display"><span class="sansserif">&rsquo;Hello&rsquo; at: 1 &rArr; $H
&rsquo;Hello&rsquo; at: 5 &rArr; $o</span>
</pre></div>

<p>Observe how a character is prefixed with the &ldquo;$&rdquo; symbol.
</p>
<p><strong>Caution.</strong> The index position starts naturally from 1 to the
string length.
</p>
<p>To change one character, use the companion two keywords message
<span class="sansserif">#at:put:</span>. The argument must be noted as a character:
</p><div class="display">
<pre class="display"><span class="sansserif">&rsquo;Hello&rsquo; at: 2 put: $a; yourself
&rArr; &rsquo;Hallo&rsquo;</span>
</pre></div>

<p>Observe the use of the cascade with the <span class="sansserif">#yourself</span> message. It is
sent to the instance string to get it returned.
</p>
<div class="float"><span id="helloBelle"></span>
<blockquote class="indentedblock">
<p><em>Replace each character of
the string &rsquo;Hello&rsquo; to become &rsquo;Belle&rsquo;</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 1.5: </strong>Hello to Belle</p></div></div>
<span id="index-character_002c-ascii"></span>
<p>Character can be converted to integer and integer to character:
</p><div class="display">
<pre class="display"><span class="sansserif">$A asciiValue &rArr; 65
(65 + 25) asCharacter &rArr; $Z</span>
</pre></div>

<span id="index-string_002c-shuffled"></span>
<span id="index-collection_002c-shuffled"></span>
<p>Shuffling a string is funny but without much use. Nevertheless,
shuffling apply to any kind of collection, not only to string, and it
proves to be of some use as we may see later:
</p><div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello world&rsquo; shuffled
&rArr; &rsquo;wod llreohl&rsquo;</span>
</pre></div>

<span id="index-string_002c-sorted"></span>
<p>We can write the same about sorting a string:
</p><div class="display">
<pre class="display"><span class="sansserif">&rsquo;bonjour&rsquo; sorted
&rArr;#($b $j $n $o $o $r $u)</span>
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Spacewar_0021.html" accesskey="n" rel="next">Spacewar!</a>, Previous: <a href="Installing-and-configuring-Cuis_002dSmalltalk.html" accesskey="p" rel="prev">Installing and configuring Cuis-Smalltalk</a>, Up: <a href="Smalltalk-Philosophy.html" accesskey="u" rel="up">Smalltalk Philosophy</a> &nbsp; [<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
