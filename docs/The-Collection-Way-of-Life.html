<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This book is for Cuis-Smalltalk (5.0#4253), a free and modern
implementation of the Smalltalk language and environment.

Copyright (C) 2020 K. Dickey, H. Fernandes, J. Vuletich







Compilation : September 6, 2020

Documentation source: https://github.com/Cuis-Smalltalk/TheCuisBook 



The contents of this book are protected under Creative Commons
Attribution-ShareAlike 4.0 International.

You are free to:


Share - copy and redistribute the material in any medium or
format


Adapt - remix, transform, and build upon the material for any
purpose, even commercially.



Under the following terms:


Attribution. You must give appropriate credit, provide a link to
the license, and indicate if changes were made. You may do so in any
reasonable manner, but not in any way that suggests the licensor
endorses you or your use.


Share Alike. If you remix, transform, or build upon the material,
you must distribute your contributions under the same license as the
original.

Complete license: https://creativecommons.org/licenses/by-sa/4.0/legalcode
 -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>The Collection Way of Life (The Cuis-Smalltalk Book)</title>

<meta name="description" content="The Collection Way of Life (The Cuis-Smalltalk Book)">
<meta name="keywords" content="The Collection Way of Life (The Cuis-Smalltalk Book)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2any">
<link href="index.html" rel="start" title="Top">
<link href="Indexes.html" rel="index" title="Indexes">
<link href="index.html" rel="up" title="Top">
<link href="Control-Flow-Messaging.html" rel="next" title="Control Flow Messaging">
<link href="Cuis_002dSmalltalk-system-classes.html" rel="prev" title="Cuis-Smalltalk system classes">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="style.css">


</head>

<body lang="en">
<span id="The-Collection-Way-of-Life"></span><div class="header">
<p>
Next: <a href="Control-Flow-Messaging.html" accesskey="n" rel="next">Control Flow Messaging</a>, Previous: <a href="Class-_002d-model-of-communicating-entities.html" accesskey="p" rel="prev">Class - model of communicating entities</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; [<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="The-Collection-Way-of-Life-1"></span><h2 class="chapter">4 The Collection Way of Life</h2>


<span id="Kernel_002dText"></span><h3 class="section">4.1 Kernel-Text</h3>
<p>Notably, this category comes with <span class="sansserif">Character</span>, <span class="sansserif">String</span>
and <span class="sansserif">Symbol</span>. <span class="sansserif">String</span> instance are collection of
<span class="sansserif">Character</span> instances.
</p>
<span id="index-character"></span>
<p><strong>Character.</strong> An individual character is written prefixed with a
&ldquo;$&rdquo;: <span class="sansserif">$A</span>. It can be defined with the class side method
<span class="sansserif">numericValue:</span> or converted from an integer instance with the
<span class="sansserif">#asCharacter</span>:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Character numericValue: 65 &rArr; $A
65 asCharacter &rArr; $A</span>
</pre></div>

<p>There are class side methods for non printable characters:
<span class="sansserif">Character tab</span>, <span class="sansserif">Character lf</span>, etc.
</p>
<p>As string are collection of characters, when enumerating a string we
can use the <span class="sansserif">Character</span> instance methods:
</p>
<div class="float"><span id="apples12"></span>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;There are 12 apples.&rsquo; select: [:c |c isDigit].
&rArr; &rsquo;12&rsquo;</span>
</pre></div>

<div class="float-caption"><p><strong><em>Example</em> 4.1: </strong>Twelve apples</p></div></div>
<div class="float"><span id="selectApples"></span>
<blockquote class="indentedblock">
<p><em>Modify <a href="#apples12"><em>Example</em> 4.1</a> to
reject the numeric characters.</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 4.1: </strong>Select apples</p></div></div>
<span id="index-string-1"></span>
<p><strong>String.</strong> <span class="sansserif">String</span> is a very large class, it comes with
more than 200 methods. Hopefully the methods are grouped in categories
and it is very easy to experiment from a Workspace when you are
looking for a specific behavior.
</p>
<p>Consider you need to search for a string in a string: when browsing
the <span class="sansserif">String</span> class, search for method categories named like
<code>finding...</code> or <code>accessing</code>. There you find a family of
<span class="sansserif">findXXX</span> methods. Read the comments at the beginning of these
methods:
</p>
<div class="display">
<pre class="display"><span class="sansserif">findString: subString
   &quot;Answer the index of subString within the receiver, starting at
   start. If the receiver does not contain subString, answer 0.&quot;
   ^self findString: subString startingAt: 1.</span>
</pre></div>

<p>Or:
</p>
<div class="display">
<pre class="display"><span class="sansserif">findString: key startingAt: start caseSensitive: caseSensitive
   &quot;Answer the index in this String at which the substring key first
   occurs, at or beyond start.  The match can be case-sensitive or
   not.  If no match is found, zero will be returned.&quot;
   ../..</span>
</pre></div>

<p>Then experiment the potentially interesting messages in a workspace:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;I love apples&rsquo; findString: &rsquo;love&rsquo; &rArr; 3 &quot;find at position 3&quot;
&rsquo;I love apples&rsquo; findString: &rsquo;hate&rsquo;
&rArr;  0 &quot;no finding&quot;
&rsquo;We humans, we all love apples&rsquo; findString: &rsquo;we&rsquo;
&rArr; 12 
&rsquo;We humans, we all love apples&rsquo;
   findString: &rsquo;we&rsquo;
   startingAt: 1
   caseSensitive: false
&rArr; 1 
&rsquo;we humans, we all love apples&rsquo; findString: &rsquo;we&rsquo;
&rArr; 1 
&rsquo;we humans, we all love apples&rsquo; findString: &rsquo;we&rsquo; startingAt: 2
&rArr; 12</span>
</pre></div>

<p>Following these paths will, most of the time, leads you to the answer
you are looking for.
</p>
<div class="float"><span id="formatString"></span>
<blockquote class="indentedblock">
<p><em>We want to format a
string of the form &rsquo;Joe bought XX apples and YY oranges&rsquo; to the form
&rsquo;Joe bought 5 apples and 4 oranges&rsquo;. What message should be used?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 4.2: </strong>Format a string</p></div></div>
<span id="index-class_002c-inheritance-1"></span>
<span id="index-class_002c-protocol"></span>
<span id="index-protocol"></span>

<p>The <span class="sansserif">String</span> also inherits its behavior from its ancestors,
parent classes. Indeed a <span class="sansserif">String</span> is a subclass of
<span class="sansserif">ArrayedCollection</span>. The direct consequence is that when
searching for some specific behavior, you may need to explore the
parent classes too. The whole behavior of a class, defined in the
class itself and its parents is named its <em>protocol</em>.
</p>
<span id="index-browser_002c-hierarchy"></span>
<span id="index-browser_002c-protocol"></span>
<p>Again the browser is helpful to explore a class protocol. You have two
options:
</p>
<ol>
<li> <strong>Explore the protocol.</strong> In the class pane of the
   browser, do ...select <span class="sansserif">String</span> class &rarr;
   click the right mouse button &rarr; in the menu select
   <code>Browse protocol (p)</code>... Alternatively, use the keyboard
   shortcut <kbd>Ctrl-p</kbd>.

<div class="float"><span id="ch03_002dbrowseProtocol"></span>
<div align="center"><img src="ch03-browseProtocol.png" alt="ch03-browseProtocol">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 4.1: </strong>Browse <span class="sansserif">String</span> protocol</p></div></div>
<p>The new window is a protocol browser for the <span class="sansserif">String</span>
   class. At the left, a hierarchy of the <span class="sansserif">String</span> ancestors;
   selecting one class there only shows the protocol starting from
   this class down to the <span class="sansserif">String</span> class. In the pane at the
   right is the list of methods of the selected ancestry. The specific
   protocol to <span class="sansserif">String</span> is bold; surrounded by parenthesis, the
   class the method is implemented in.
</p>
<p>In <a href="#ch03_002dbrowseProtocol"><em>Figure</em> 4.1</a>, no specific class is selected,
   therefore the whole <span class="sansserif">String</span> protocol is listed at the
   right. The method <span class="sansserif">before:</span> implemented in
   <span class="sansserif">SequenceableCollection</span> is selected and its source code is
   displayed on the large bottom pane.
</p>
</li><li> <strong>Explore the hierarchy.</strong> In the class pane of the
   browser, do ...select <span class="sansserif">String</span> class &rarr;
   click the right mouse button &rarr; in the menu select
   <code>Browse hierarchy (h)</code>... Alternatively, use the keyboard
   shortcut <kbd>Ctrl-h</kbd> or the button <code>hierarchy</code> on the
   system browser.

<div class="float"><span id="ch03_002dbrowseHierarchy"></span>
<div align="center"><img src="ch03-browseHierarchy.png" alt="ch03-browseHierarchy">
</div>
<div class="float-caption"><p><strong><em>Figure</em> 4.2: </strong>Browse the <span class="sansserif">String</span> hierarchy</p></div></div>
<p>The hierarchy browser is very like the system browser with only two
   differences:
</p>
<ul>
<li> At the far left, the class categories pane is absent,
      
</li><li> In the classes pane, the hierarchy of <span class="sansserif">String</span> is
      printed. It makes easy to browse <span class="sansserif">String</span> parents and
      children class.

</li></ul>

</li></ol>

<p>The hierarchy browser is a general tool for exploration. Contrary to
the protocol browser, it does not display at once the whole protocol
of a class. In &lsquo;ch-browseHierarchy&rsquo;, the class
<span class="sansserif">SequenceableCollection</span> is selected as well as its method
<span class="sansserif">before:</span>.
</p>
<p>This method extracts from a collection the element before a specified
element. When inherited in <span class="sansserif">String</span>, those elements are
<span class="sansserif">Character</span> instances:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;1 + 3i&rsquo; before: $i
&rArr; $3 
</span>
</pre></div>

<p>Practice the tools and resolve the exercise bellow.
</p>
<div class="float"><span id="cutString"></span>
<blockquote class="indentedblock">
<p><em>Find the appropriate
method to transform &rsquo;Hello My Friend&rsquo; in &rsquo;My Friend&rsquo;?</em>
</p></blockquote>


<div class="float-caption"><p><strong><em>Exercise</em> 4.3: </strong>Cut a string</p></div></div>
<p>Beware, some messages in the <span class="sansserif">String</span> protocol may obviously not
work. Observe bellow, the error is thrown on a <span class="sansserif">Character</span>
instance:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;Hello My Friend&rsquo; cos
&rArr; MesageNotUnderstood: Character&gt;&gt;cos</span>
</pre></div>

<span id="index-symbol"></span>
<p><strong>Symbol.</strong> A symbol is very like a string but it is unique and
never duplicated. It is written as <span class="sansserif">#hello</span>, and often used
as a constant. You already observe how in the book we noted messages
as symbol, it is because each message is unique. You will use symbol
when you need to name something uniquely.
</p>
<p>Observe in the example bellow, the strings are not identical once
duplicated &ndash; understand not the same memory location in the computer
&ndash; however symbols are identical even when duplicated<a id="DOCF7" href="#FOOT7"><sup>7</sup></a>:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello&rsquo; == &rsquo;hello&rsquo; copy
&rArr; false 
#hello  == #hello copy
&rArr; true</span>
</pre></div>

<p>Symbols can be written with space:
</p>
<div class="display">
<pre class="display"><span class="sansserif">Symbol with space character,symbolSpace,
#&rsquo;hello my friend&rsquo;
&rsquo;hello my friend&rsquo; asSymbol</span>
</pre></div>

<p><span class="sansserif">Symbol</span> is a sub class of <span class="sansserif">String</span>, a lot of its behavior
is inherited. It is helpful to make handy symbol:
</p>
<div class="display">
<pre class="display"><span class="sansserif">&rsquo;hello my friend&rsquo; asCamelCase asSymbol 
&rArr; #helloMyFriend</span>
</pre></div>
<div class="footnote">
<hr>
<h4 class="footnotes-heading">Footnotes</h4>

<h5><a id="FOOT7" href="#DOCF7">(7)</a></h3>
<p>To be
honest, copying a symbol just returns the original symbol.</p>
</div>
<hr>
<div class="header">
<p>
Next: <a href="Control-Flow-Messaging.html" accesskey="n" rel="next">Control Flow Messaging</a>, Previous: <a href="Class-_002d-model-of-communicating-entities.html" accesskey="p" rel="prev">Class - model of communicating entities</a>, Up: <a href="index.html" accesskey="u" rel="up">Top</a> &nbsp; [<a href="Indexes.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
